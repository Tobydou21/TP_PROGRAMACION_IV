{% extends "base.html" %}
{% block title %}Detalle de {{ object.nombre }} {{ object.apellido }}{% endblock %}
{% block content %}
<div class="card shadow-sm border-0">
    <div class="card-header bg-light d-flex justify-content-between align-items-center">
        <h3 class="mb-0"><i class="bi bi-person-vcard me-2"></i>Ficha de {{ object.nombre }} {{ object.apellido }}</h3>
        <a href="{% url 'estudiante_list' %}" class="btn btn-outline-secondary btn-sm"><i class="bi bi-arrow-left me-1"></i> Volver a la Lista</a>
    </div>
    <div class="card-body">
        <dl class="row">
            <dt class="col-sm-3">Nombre:</dt><dd class="col-sm-9">{{ object.nombre }}</dd>
            <dt class="col-sm-3">Apellido:</dt><dd class="col-sm-9">{{ object.apellido }}</dd>
            <dt class="col-sm-3">Documento (DNI):</dt><dd class="col-sm-9">{{ object.documento }}</dd>
            <dt class="col-sm-3">Email:</dt><dd class="col-sm-9">{{ object.email }}</dd>
            <dt class="col-sm-3">Fecha de Nacimiento:</dt><dd class="col-sm-9">{{ object.fecha_nacimiento|date:"d/m/Y" }}</dd>
            <dt class="col-sm-3">Estado:</dt>
            <dd class="col-sm-9">{% if object.activo %}<span class="badge bg-success">Activo</span>{% else %}<span class="badge bg-danger">Inactivo</span>{% endif %}</dd>
        </dl>
        <hr>
        <h5>Cursos Matriculados</h5>
        {% if object.matricula_set.all %}
            <ul class="list-group list-group-flush">
                {% for matricula in object.matricula_set.all %}<li class="list-group-item">{{ matricula.curso.nombre }} (Prof: {{ matricula.curso.profesor.nombre }}) - Nota: {{ matricula.nota|default:"N/A" }}</li>{% endfor %}
            </ul>
        {% else %}
            <p class="text-muted">El estudiante no está matriculado en ningún curso.</p>
        {% endif %}
    </div>
    <div class="card-footer text-end gap-2 d-flex justify-content-end">
        <a href="{% url 'estudiante_edit' object.pk %}" class="btn btn-warning"><i class="bi bi-pencil-fill me-1"></i> Editar</a>
        <a href="{% url 'estudiante_delete' object.pk %}" class="btn btn-danger"><i class="bi bi-trash3-fill me-1"></i> Eliminar</a>
    </div>
</div>
{% endblock %}